"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[8576],{35538:(_,s,a)=>{a.d(s,{pL:()=>o,z5:()=>i});var e=a(32264);const o=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function m(){const l=e.$.licenseInfo?.trialExpiry;return!!(l&&l>0)}const i=()=>m()&&e.$.featureToggles.featureHighlights},14383:(_,s,a)=>{a.r(s),a.d(s,{SignupInvitedPage:()=>c,default:()=>M});var e=a(96540),o=a(16817),m=a(17172),i=a(88575),l=a(10354),u=a(55852),g=a(72235),E=a(67608),p=a(2913),P=a(10096),v=a(35538);const D={main:{icon:"grafana",text:"Invite",subTitle:"Register your Grafana account",breadcrumbs:[{title:"Login",url:"login"}]},node:{text:""}},c=({match:O})=>{const r=O.params.code,[d,A]=(0,e.useState)(),[h,f]=(0,e.useState)(),[I,T]=(0,e.useState)();(0,o.A)(async()=>{const n=await(0,m.AI)().get(`/api/user/invite/${r}`);A({email:n.email,name:n.name,username:n.email}),f(n.name||n.email||n.username),T(n.invitedBy)},[r]);const C=async n=>{await(0,m.AI)().post("/api/user/invite/complete",{...n,inviteCode:r}),window.location.href=(0,p.zj)().appSubUrl+"/"};return d?e.createElement(E.Y,{navModel:D},e.createElement(E.Y.Contents,null,e.createElement("h3",{className:"page-sub-heading"},"Hello ",h||"there","."),e.createElement("div",{className:"modal-tagline p-b-2"},e.createElement("em",null,I||"Someone")," has invited you to join Grafana and the organization"," ",e.createElement("span",{className:"highlight-word"},P.TP.user.orgName),e.createElement("br",null),"Please complete the following and choose a password to accept your invitation and continue:"),e.createElement(g.l,{defaultValues:d,onSubmit:C},({register:n,errors:t})=>e.createElement(e.Fragment,null,e.createElement(i.D,{invalid:!!t.email,error:t.email&&t.email.message,label:"Email"},e.createElement(l.p,{placeholder:"email@example.com",...n("email",{required:"Email is required",pattern:{value:v.pL,message:"Email is invalid"}})})),e.createElement(i.D,{invalid:!!t.name,error:t.name&&t.name.message,label:"Name"},e.createElement(l.p,{placeholder:"Name (optional)",...n("name")})),e.createElement(i.D,{invalid:!!t.username,error:t.username&&t.username.message,label:"Username"},e.createElement(l.p,{...n("username",{required:"Username is required"}),placeholder:"Username"})),e.createElement(i.D,{invalid:!!t.password,error:t.password&&t.password.message,label:"Password"},e.createElement(l.p,{...n("password",{required:"Password is required"}),type:"password",placeholder:"Password"})),e.createElement(u.$n,{type:"submit"},"Sign up"))))):null},M=c}}]);

//# sourceMappingURL=SignupInvited.6645fbc79a487606b234.js.map